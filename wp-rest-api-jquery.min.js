var response=null,restjQuery=function(a){"use strict";function h(a){return f?(console.log("WP REST API jQuery Authenticating Request..."),$.ajax({async:!1,url:a.site_url+"/wp-json/"+a.namespace+a.endpoint,method:a.formMethod,cache:a.cache,crossDomain:!0,crossOrigin:!0,data:a.postData,beforeSend:function(b){j(a,b)},complete:function(b){jQuery("body").trigger("restjquery_complete_"+a.formMethod+"_"+a.endpoint,[b]),response=b.responseJSON},error:function(b){jQuery("body").trigger("restjquery_error_"+a.formMethod+"_"+a.endpoint,[b]),response=b},dataType:a.dataType})):$.ajax({async:!1,url:a.site_url+"/wp-json/"+a.namespace+a.endpoint,method:a.formMethod,cache:a.cache,contentType:"application/json",crossDomain:!0,crossOrigin:!0,data:a.postData,complete:function(b){jQuery("body").trigger("restjquery_complete_"+a.formMethod+"_"+a.endpoint,[b]),response=b.responseJSON},error:function(b){jQuery("body").trigger("restjquery_error_"+a.formMethod+"_"+a.endpoint,[b]),response=b},dataType:a.dataType}),response}function i(a){return $.ajax({async:!0,url:a.site_url+"/wp-json/"+a.namespace+"media",method:"POST",data:a.postData,cache:!1,contentType:!1,processData:!1,headers:{"Content-Disposition":"attachment;filename="+a.filename},beforeSend:function(b){j(a,b)},complete:function(a){response=a,console.log(response),"200"==a.status?console.log("Upload Done"):console.error("Upload failed!")},error:function(a){response=a}}),response}function j(a,b){null!==a.nonce&&b.setRequestHeader("X-WP-Nonce",a.nonce);var c=a.authorization.authorized_method;return("basic"==c||"consumer"==c)&&b.setRequestHeader("Authorization","Basic "+btoa(a.authorization.username+":"+a.authorization.password)),b}var c=window.location.hostname,d=window.location.protocol,e=$.extend({site_url:d+"//"+c,authorization:{authorized_method:null,username:null,password:null,token:{access_token:null,consumer_key:null,consumer_secret:null}},nonce:null,namespace:"wp/v2/",endpoint:"posts",postData:"{}",filename:"",formMethod:"GET",dataType:"json",cache:!0},a);if(""==e.site_url&&"file:"==d)return console.error("WP REST API jQuery Error: Script can not run as a file."),!1;if(null!==e.authorization.authorized_method)return console.error("WP REST API jQuery Error: Authorization method was not specified."),!1;if(""!==e.authorization.username&&""==e.authorization.password)return console.error("WP REST API jQuery Error: Password for authorization is missing!"),!1;if(""==e.namespace)return console.error("WP REST API jQuery Error: Namespace is unknown!"),!1;if(""==e.endpoint)return console.error("WP REST API jQuery Error: Endpoint was not defined!"),!1;if(""==e.formMethod)return console.error("WP REST API jQuery Error: Ajax method was not set!"),!1;if("GET"!==e.formMethod&&"{}"==e.postData)return console.error("WP REST API jQuery Error: Post data is empty!"),!1;"jsonp"==e.dataType&&(e.cache=!1);var f=!1;(null!==e.nonce||null!==e.authorization.authorized_method)&&(f=!0),console.log("Requested Endpoint: "+e.site_url+"/wp-json/"+e.namespace+e.endpoint);var g=!0;return"media"==e.endpoint&&"POST"==e.formMethod&&(g=!1),response=g?h(e):i(e)};
